<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Password Generator</title>
  <!-- Include TailwindCSS via CDN -->
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            primary: '#8B5CF6', // purple-500
          }
        }
      }
    }
  </script>
  <style>
    .password-strength-bar {
      height: 10px;
      transition: width 0.3s;
    }
  </style>
</head>
<body class="bg-gray-100 min-h-screen">
  <div class="container mx-auto py-6 px-4 max-w-md">
    <!-- Header -->
    <div class="mb-6">
      <div class="flex flex-col md:flex-row justify-between items-start md:items-center mb-4">
        <div>
          <h1 class="text-3xl font-bold text-gray-900">Password Generator</h1>
          <p class="text-gray-600">Create strong, secure passwords</p>
        </div>
        <a href="../dashboard/index.html" class="mt-4 md:mt-0 px-4 py-2 bg-primary text-white rounded-lg hover:bg-purple-600 transition">
          Back to Dashboard
        </a>
      </div>
    </div>
    
    <!-- Main Content -->
    <div class="bg-white rounded-lg shadow p-6">
      <!-- Generated Password Display -->
      <div class="relative mb-6">
        <input 
          type="text" 
          id="generatedPassword" 
          class="w-full py-4 px-3 bg-gray-50 border rounded-lg font-mono text-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent"
          readonly
        >
        <div class="absolute inset-y-0 right-0 flex pr-3 items-center">
          <button 
            id="copyBtn" 
            class="p-2 text-gray-500 hover:text-gray-700 focus:outline-none"
          >
            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 5H6a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2v-1M8 5a2 2 0 002 2h2a2 2 0 002-2M8 5a2 2 0 012-2h2a2 2 0 012 2m0 0h2a2 2 0 012 2v3m2 4H10m0 0l3-3m-3 3l3 3" />
            </svg>
          </button>
        </div>
      </div>
      
      <!-- Password Strength Indicator -->
      <div class="mb-6">
        <div class="flex justify-between mb-1">
          <label class="text-sm font-medium text-gray-700">Password Strength</label>
          <span id="strengthLabel" class="text-sm text-gray-500">Generate a password</span>
        </div>
        <div class="w-full bg-gray-200 rounded-full h-2.5">
          <div id="strengthBar" class="password-strength-bar bg-gray-400 rounded-full w-0"></div>
        </div>
      </div>
      
      <!-- Password Options -->
      <div class="mb-6">
        <div class="mb-4">
          <label class="block text-sm font-medium text-gray-700 mb-1">Password Length</label>
          <div class="flex items-center">
            <input type="range" min="6" max="64" value="16" class="w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer" id="passwordLength">
            <span id="passwordLengthValue" class="w-10 text-center font-mono ml-4">16</span>
          </div>
        </div>

        <div class="space-y-2">
          <label class="block text-sm font-medium text-gray-700 mb-1">Character Types</label>
          
          <div class="flex items-center">
            <input type="checkbox" id="includeLowercase" class="h-4 w-4 text-primary focus:ring-primary border-gray-300 rounded" checked>
            <label for="includeLowercase" class="ml-2 text-sm text-gray-700">Lowercase (a-z)</label>
          </div>
          
          <div class="flex items-center">
            <input type="checkbox" id="includeUppercase" class="h-4 w-4 text-primary focus:ring-primary border-gray-300 rounded" checked>
            <label for="includeUppercase" class="ml-2 text-sm text-gray-700">Uppercase (A-Z)</label>
          </div>
          
          <div class="flex items-center">
            <input type="checkbox" id="includeNumbers" class="h-4 w-4 text-primary focus:ring-primary border-gray-300 rounded" checked>
            <label for="includeNumbers" class="ml-2 text-sm text-gray-700">Numbers (0-9)</label>
          </div>
          
          <div class="flex items-center">
            <input type="checkbox" id="includeSymbols" class="h-4 w-4 text-primary focus:ring-primary border-gray-300 rounded" checked>
            <label for="includeSymbols" class="ml-2 text-sm text-gray-700">Symbols (!@#$%^&*)</label>
          </div>
          
          <div class="flex items-center">
            <input type="checkbox" id="excludeSimilar" class="h-4 w-4 text-primary focus:ring-primary border-gray-300 rounded">
            <label for="excludeSimilar" class="ml-2 text-sm text-gray-700">Exclude similar characters (i, l, 1, L, o, 0, O)</label>
          </div>
          
          <div class="flex items-center">
            <input type="checkbox" id="excludeAmbiguous" class="h-4 w-4 text-primary focus:ring-primary border-gray-300 rounded">
            <label for="excludeAmbiguous" class="ml-2 text-sm text-gray-700">Exclude ambiguous symbols ({ } [ ] ( ) / \ ' " ` ~ , ; : . < >)</label>
          </div>
        </div>
      </div>
      
      <!-- Advanced Options -->
      <div class="mb-6">
        <details class="bg-gray-50 p-4 rounded-lg">
          <summary class="font-medium text-gray-700 cursor-pointer">Advanced Options</summary>
          <div class="mt-4 space-y-4">
            <div>
              <label class="block text-sm font-medium text-gray-700 mb-1">Password Type</label>
              <select id="passwordType" class="w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-primary focus:border-primary">
                <option value="random" selected>Random Characters</option>
                <option value="memorable">Memorable Words</option>
                <option value="pin">PIN Code</option>
              </select>
            </div>
            
            <div id="memorableOptions" class="space-y-2 hidden">
              <div class="flex items-center">
                <input type="checkbox" id="capitalizeMemorable" class="h-4 w-4 text-primary focus:ring-primary border-gray-300 rounded" checked>
                <label for="capitalizeMemorable" class="ml-2 text-sm text-gray-700">Capitalize Words</label>
              </div>
              
              <div class="flex items-center">
                <input type="checkbox" id="includeSeparators" class="h-4 w-4 text-primary focus:ring-primary border-gray-300 rounded" checked>
                <label for="includeSeparators" class="ml-2 text-sm text-gray-700">Include Separators</label>
              </div>
              
              <div>
                <label class="block text-sm font-medium text-gray-700 mb-1">Number of Words</label>
                <div class="flex items-center">
                  <input type="range" min="2" max="8" value="4" class="w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer" id="wordCount">
                  <span id="wordCountValue" class="w-10 text-center font-mono ml-4">4</span>
                </div>
              </div>
            </div>
            
            <div id="pinOptions" class="space-y-2 hidden">
              <div>
                <label class="block text-sm font-medium text-gray-700 mb-1">PIN Length</label>
                <div class="flex items-center">
                  <input type="range" min="4" max="12" value="6" class="w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer" id="pinLength">
                  <span id="pinLengthValue" class="w-10 text-center font-mono ml-4">6</span>
                </div>
              </div>
            </div>
          </div>
        </details>
      </div>
      
      <!-- Generate Button -->
      <div class="flex justify-center">
        <button id="generateBtn" class="px-6 py-3 bg-primary text-white font-medium rounded-lg hover:bg-purple-700 transition flex items-center">
          <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15" />
          </svg>
          Generate Password
        </button>
      </div>
    </div>
    
    <!-- Tips Section -->
    <div class="mt-8 bg-white rounded-lg shadow p-6">
      <h2 class="text-lg font-bold text-gray-900 mb-4">Password Security Tips</h2>
      <ul class="space-y-2 text-gray-700 text-sm">
        <li class="flex items-start">
          <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-primary mr-2 mt-0.5 flex-shrink-0" viewBox="0 0 20 20" fill="currentColor">
            <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd" />
          </svg>
          Use a different password for each account.
        </li>
        <li class="flex items-start">
          <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-primary mr-2 mt-0.5 flex-shrink-0" viewBox="0 0 20 20" fill="currentColor">
            <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd" />
          </svg>
          Longer passwords are generally more secure than shorter ones.
        </li>
        <li class="flex items-start">
          <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-primary mr-2 mt-0.5 flex-shrink-0" viewBox="0 0 20 20" fill="currentColor">
            <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd" />
          </svg>
          Consider using a password manager to securely store your passwords.
        </li>
        <li class="flex items-start">
          <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-primary mr-2 mt-0.5 flex-shrink-0" viewBox="0 0 20 20" fill="currentColor">
            <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd" />
          </svg>
          Enable two-factor authentication wherever possible.
        </li>
        <li class="flex items-start">
          <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-primary mr-2 mt-0.5 flex-shrink-0" viewBox="0 0 20 20" fill="currentColor">
            <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd" />
          </svg>
          Avoid using personal information in your passwords.
        </li>
      </ul>
    </div>
  </div>
  
  <script>
    // DOM Elements
    const generatedPassword = document.getElementById('generatedPassword');
    const copyBtn = document.getElementById('copyBtn');
    const generateBtn = document.getElementById('generateBtn');
    const strengthBar = document.getElementById('strengthBar');
    const strengthLabel = document.getElementById('strengthLabel');
    const passwordLength = document.getElementById('passwordLength');
    const passwordLengthValue = document.getElementById('passwordLengthValue');
    const includeLowercase = document.getElementById('includeLowercase');
    const includeUppercase = document.getElementById('includeUppercase');
    const includeNumbers = document.getElementById('includeNumbers');
    const includeSymbols = document.getElementById('includeSymbols');
    const excludeSimilar = document.getElementById('excludeSimilar');
    const excludeAmbiguous = document.getElementById('excludeAmbiguous');
    const passwordType = document.getElementById('passwordType');
    const memorableOptions = document.getElementById('memorableOptions');
    const pinOptions = document.getElementById('pinOptions');
    const wordCount = document.getElementById('wordCount');
    const wordCountValue = document.getElementById('wordCountValue');
    const pinLength = document.getElementById('pinLength');
    const pinLengthValue = document.getElementById('pinLengthValue');
    const capitalizeMemorable = document.getElementById('capitalizeMemorable');
    const includeSeparators = document.getElementById('includeSeparators');
    
    // Character sets
    const LOWERCASE_CHARS = 'abcdefghijklmnopqrstuvwxyz';
    const UPPERCASE_CHARS = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ';
    const NUMBER_CHARS = '0123456789';
    const SYMBOL_CHARS = '!@#$%^&*()-_=+[]{}|;:,.<>?/';
    const AMBIGUOUS_SYMBOLS = '{}[]()/\\\'"`~,;:.<>';
    const SIMILAR_CHARS = 'iIl1Lo0O';
    
    // Sample words for memorable passwords
    const WORDS = [
      'apple', 'banana', 'orange', 'grape', 'melon', 'cherry', 'lemon', 'mango',
      'blue', 'green', 'red', 'yellow', 'purple', 'orange', 'black', 'white',
      'happy', 'smart', 'brave', 'calm', 'kind', 'proud', 'quiet', 'wise',
      'river', 'ocean', 'mountain', 'forest', 'desert', 'island', 'valley', 'hill',
      'table', 'chair', 'desk', 'book', 'pen', 'paper', 'phone', 'screen',
      'north', 'south', 'east', 'west', 'top', 'bottom', 'left', 'right',
      'spring', 'summer', 'autumn', 'winter', 'day', 'night', 'dawn', 'dusk',
      'music', 'art', 'dance', 'song', 'story', 'poem', 'movie', 'play'
    ];
    
    const SEPARATORS = '.-_!@#$%&*';
    
    // Event Listeners
    passwordLength.addEventListener('input', () => {
      passwordLengthValue.textContent = passwordLength.value;
    });
    
    wordCount.addEventListener('input', () => {
      wordCountValue.textContent = wordCount.value;
    });
    
    pinLength.addEventListener('input', () => {
      pinLengthValue.textContent = pinLength.value;
    });
    
    passwordType.addEventListener('change', () => {
      if (passwordType.value === 'random') {
        memorableOptions.classList.add('hidden');
        pinOptions.classList.add('hidden');
      } else if (passwordType.value === 'memorable') {
        memorableOptions.classList.remove('hidden');
        pinOptions.classList.add('hidden');
      } else if (passwordType.value === 'pin') {
        memorableOptions.classList.add('hidden');
        pinOptions.classList.remove('hidden');
      }
    });
    
    generateBtn.addEventListener('click', generatePassword);
    
    copyBtn.addEventListener('click', () => {
      if (generatedPassword.value) {
        navigator.clipboard.writeText(generatedPassword.value)
          .then(() => {
            const originalHTML = copyBtn.innerHTML;
            copyBtn.innerHTML = `
              <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-green-500" viewBox="0 0 20 20" fill="currentColor">
                <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 001.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
              </svg>
            `;
            setTimeout(() => {
              copyBtn.innerHTML = originalHTML;
            }, 1500);
          })
          .catch(err => {
            console.error('Failed to copy: ', err);
          });
      }
    });
    
    // Initialize with a random password
    generatePassword();
    
    // Password Generation Functions
    function generatePassword() {
      let password = '';
      
      if (passwordType.value === 'random') {
        password = generateRandomPassword();
      } else if (passwordType.value === 'memorable') {
        password = generateMemorablePassword();
      } else if (passwordType.value === 'pin') {
        password = generatePinCode();
      }
      
      generatedPassword.value = password;
      calculatePasswordStrength(password);
    }
    
    function generateRandomPassword() {
      // Verify at least one option is selected
      if (!includeLowercase.checked && !includeUppercase.checked && 
          !includeNumbers.checked && !includeSymbols.checked) {
        includeLowercase.checked = true;
      }
      
      // Build character set
      let charset = '';
      
      if (includeLowercase.checked) {
        charset += LOWERCASE_CHARS;
      }
      
      if (includeUppercase.checked) {
        charset += UPPERCASE_CHARS;
      }
      
      if (includeNumbers.checked) {
        charset += NUMBER_CHARS;
      }
      
      if (includeSymbols.checked) {
        charset += excludeAmbiguous.checked ? 
                  SYMBOL_CHARS.split('').filter(c => !AMBIGUOUS_SYMBOLS.includes(c)).join('') : 
                  SYMBOL_CHARS;
      }
      
      // Remove similar characters if option is selected
      if (excludeSimilar.checked) {
        charset = charset.split('').filter(c => !SIMILAR_CHARS.includes(c)).join('');
      }
      
      // Generate password
      let password = '';
      const len = parseInt(passwordLength.value);
      
      // Ensure at least one character from each selected type
      if (includeLowercase.checked) {
        password += getRandomChar(LOWERCASE_CHARS.split('').filter(c => charset.includes(c)));
      }
      
      if (includeUppercase.checked) {
        password += getRandomChar(UPPERCASE_CHARS.split('').filter(c => charset.includes(c)));
      }
      
      if (includeNumbers.checked) {
        password += getRandomChar(NUMBER_CHARS.split('').filter(c => charset.includes(c)));
      }
      
      if (includeSymbols.checked) {
        const availableSymbols = SYMBOL_CHARS.split('').filter(c => charset.includes(c));
        if (availableSymbols.length > 0) {
          password += getRandomChar(availableSymbols);
        }
      }
      
      // Fill the rest of the password
      while (password.length < len) {
        password += getRandomChar(charset);
      }
      
      // Shuffle the password characters
      password = shuffleString(password);
      
      return password;
    }
    
    function generateMemorablePassword() {
      const wordCount = parseInt(document.getElementById('wordCount').value);
      const includeSeparators = document.getElementById('includeSeparators').checked;
      const capitalize = document.getElementById('capitalizeMemorable').checked;
      
      // Select random words
      const selectedWords = [];
      for (let i = 0; i < wordCount; i++) {
        let word = WORDS[Math.floor(Math.random() * WORDS.length)];
        
        if (capitalize) {
          word = word.charAt(0).toUpperCase() + word.slice(1);
        }
        
        selectedWords.push(word);
      }
      
      // Join with separators if selected
      if (includeSeparators) {
        const separator = getRandomChar(SEPARATORS);
        return selectedWords.join(separator);
      } else {
        return selectedWords.join('');
      }
    }
    
    function generatePinCode() {
      const pinLength = parseInt(document.getElementById('pinLength').value);
      let pin = '';
      
      for (let i = 0; i < pinLength; i++) {
        pin += getRandomChar(NUMBER_CHARS);
      }
      
      return pin;
    }
    
    // Helper Functions
    function getRandomChar(charset) {
      return charset[Math.floor(Math.random() * charset.length)];
    }
    
    function shuffleString(str) {
      const arr = str.split('');
      for (let i = arr.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [arr[i], arr[j]] = [arr[j], arr[i]];
      }
      return arr.join('');
    }
    
    function calculatePasswordStrength(password) {
      // This is a simplified password strength calculator
      // A real-world implementation would be more sophisticated
      
      let score = 0;
      
      // Length contribution (up to 40 points)
      score += Math.min(password.length * 2.5, 40);
      
      // Character variety contribution (up to 40 points)
      const hasLower = /[a-z]/.test(password);
      const hasUpper = /[A-Z]/.test(password);
      const hasNumber = /\d/.test(password);
      const hasSymbol = /[^a-zA-Z0-9]/.test(password);
      
      const variety = (hasLower ? 1 : 0) + (hasUpper ? 1 : 0) + 
                      (hasNumber ? 1 : 0) + (hasSymbol ? 1 : 0);
      score += variety * 10;
      
      // Pattern penalty (simplified)
      const hasRepeats = /(.)\\1{2,}/.test(password); // e.g., "aaa"
      const hasSequences = /(?:abc|bcd|cde|def|efg|fgh|ghi|hij|ijk|jkl|klm|lmn|mno|nop|opq|pqr|qrs|rst|stu|tuv|uvw|vwx|wxy|xyz|012|123|234|345|456|567|678|789)/.test(password.toLowerCase());
      
      if (hasRepeats) score -= 10;
      if (hasSequences) score -= 10;
      
      // Calculate percentage and clamp between 0-100
      const percentage = Math.max(0, Math.min(100, score));
      
      // Update UI
      strengthBar.style.width = `${percentage}%`;
      
      // Set color based on strength
      if (percentage < 40) {
        strengthBar.className = 'password-strength-bar bg-red-500 rounded-full';
        strengthLabel.textContent = 'Weak';
        strengthLabel.className = 'text-sm text-red-500';
      } else if (percentage < 70) {
        strengthBar.className = 'password-strength-bar bg-yellow-500 rounded-full';
        strengthLabel.textContent = 'Moderate';
        strengthLabel.className = 'text-sm text-yellow-500';
      } else {
        strengthBar.className = 'password-strength-bar bg-green-500 rounded-full';
        strengthLabel.textContent = 'Strong';
        strengthLabel.className = 'text-sm text-green-500';
      }
    }
  </script>
</body>
</html>
